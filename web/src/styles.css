:root {
  --bg: #0b0f1a;
  --panel: #0f1626cc;
  --border: #223053;
  --text: #e6f1ff;
  --muted: #a5b1c8;
  --accent-1: #1F8CFF;
  --accent-2: #7B5CFF;
  --accent-3: #00D2FF;
  --gradient: linear-gradient(120deg, var(--accent-1), var(--accent-2), var(--accent-3));
  --topbar-h: 56px;
  --botnav-h: 72px;
}
*{box-sizing:border-box} html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:"Manrope",system-ui,-apple-system,Segoe UI,Roboto,Arial}
.app{min-height:100vh}
.main{margin-left:78px;padding:calc(var(--topbar-h)+env(safe-area-inset-top,8px)) 16px calc(var(--botnav-h)+env(safe-area-inset-bottom,16px)) 16px}

/* Sidebar */
.sidebar{position:fixed;top:0;left:0;bottom:0;width:78px;background:#070b14a6;border-right:1px solid var(--border);display:flex;flex-direction:column;align-items:center;padding:10px 6px;z-index:900}
.sb-brand{height:var(--topbar-h);width:100%;display:grid;place-items:center;color:#dbe7ff;font-weight:800}
.sb-item{width:100%;height:44px;margin:6px 0;display:grid;place-items:center;color:#cfe0ff;text-decoration:none;border-radius:10px;border:1px solid transparent;transition:background .15s,border-color .15s,box-shadow .15s}
.sb-item:hover{background:#0f172a;border-color:var(--border)}
.sb-item.active{background:linear-gradient(180deg,color-mix(in srgb,var(--accent-1)16%,transparent),transparent);border-color:color-mix(in srgb,var(--accent-1)40%,transparent);box-shadow:0 0 0 2px color-mix(in srgb,var(--accent-1)25%,transparent);position:relative}
.sb-item.active::before{content:"";position:absolute;left:4px;top:12px;bottom:12px;width:4px;border-radius:999px;background:var(--gradient)}

/* Top bar */
.topbar{position:fixed;top:0;left:78px;right:0;height:calc(var(--topbar-h)+env(safe-area-inset-top,8px));padding-top:env(safe-area-inset-top,8px);background:#0f1626cc;border-bottom:1px solid var(--border);display:grid;grid-template-columns:56px 1fr 56px;align-items:center;z-index:950}
.tb-slot{height:40px;width:40px;margin:0 8px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;border:1px solid var(--border);background:#0e1526;color:#dbe7ff}
.tb-brand{justify-self:center;display:inline-flex;align-items:center;gap:8px;pointer-events:none}
.tb-brand img{width:22px;height:22px;border-radius:4px}
.tb-brand span{font-weight:800;letter-spacing:.3px;background:var(--gradient);-webkit-background-clip:text;background-clip:text;color:transparent}

/* Bottom nav */
.bottom-nav{position:fixed;left:0;right:0;bottom:0;height:calc(var(--botnav-h)+env(safe-area-inset-bottom,16px));padding-bottom:env(safe-area-inset-bottom,16px);background:#0f1626cc;border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(5,1fr);z-index:950}
.bn-item{display:grid;place-items:center;gap:4px;padding-top:8px;color:#cfe0ff;text-decoration:none;font-size:12px;transition:color .15s,background .15s,box-shadow .15s}
.bn-item.active{color:#08121e;background:linear-gradient(180deg,color-mix(in srgb,var(--accent-1)16%,transparent),transparent);box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--accent-1)35%,transparent)}
.bn-item.active svg{filter:drop-shadow(0 0 6px color-mix(in srgb,var(--accent-1)60%,transparent))}

/* Panels */
.page{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}

/* Avatar */
.avatar-mini{width:24px;height:24px;border-radius:50%;background:var(--gradient);color:#001015;font-weight:800;display:grid;place-items:center}
.avatar-mini.img{background-size:cover;background-position:center}

/* OTT hero + rows */
.hero{margin:4px 0 12px;border-radius:16px;overflow:hidden;position:relative;border:1px solid var(--border)}
.hero-inner{min-height:220px;display:grid;grid-template-columns:1.4fr .6fr;gap:16px;align-items:center;background-size:cover;background-position:center}
.hero-shade{position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.55),rgba(0,0,0,.25) 40%,rgba(0,0,0,0) 70%)}
.hero-content{position:relative;padding:20px}
.hero-title{font-size:32px;font-weight:800;margin:0 0 6px}
.hero-tag{color:var(--muted);margin-bottom:10px}
.hero-cta{display:inline-block;padding:10px 14px;border-radius:10px;color:#001015;font-weight:800;background:var(--gradient);border:none;cursor:pointer}
.row-section{margin:12px 0}
.row-title{margin:0 0 8px 2px;font-weight:800;color:#dbe7ff}
.hscroll{display:grid;grid-auto-flow:column;grid-auto-columns:160px;gap:12px;overflow-x:auto;padding-bottom:6px;scroll-snap-type:x mandatory}
.card{position:relative;border-radius:12px;overflow:hidden;height:220px;border:1px solid var(--border);background:#0e1526;transition:transform .18s,box-shadow .18s,border-color .18s;scroll-snap-align:start}
.card:hover{transform:translateY(-3px);border-color:color-mix(in srgb,var(--accent-1)35%,transparent);box-shadow:0 12px 24px rgba(0,0,0,.5)}
.card img{width:100%;height:100%;object-fit:cover;display:block}
.card-overlay{position:absolute;inset:0;display:grid;align-content:end;background:linear-gradient(180deg,rgba(0,0,0,0) 40%,rgba(0,0,0,.65) 100%);padding:8px}
.card-title{color:#e6f1ff;font-size:13px;font-weight:700}

/* Profiles */
.hero-brand{font-weight:800;font-size:40px;text-align:center;background:var(--gradient);-webkit-background-clip:text;background-clip:text;color:transparent}
.hero-sub{color:var(--muted);text-align:center;margin-bottom:8px}
.profiles-grid-2x2{display:grid;grid-template-columns:repeat(2,minmax(180px,1fr));gap:20px;justify-items:center}
.p-tile{text-align:center}
.avatar-xxl{width:160px;height:160px;border-radius:50%;background:var(--gradient);color:#001015;border:none;display:grid;place-items:center;box-shadow:0 0 14px color-mix(in srgb,var(--accent-1)40%,transparent)}
.avatar-xxl.plus{background:#0e1526;border:1px dashed var(--border);color:#cfe0ff}
.avatar-xxl-img{width:100%;height:100%;border-radius:50%;object-fit:cover}
.p-title{margin-top:8px;font-weight:800}
.p-actions{display:flex;gap:8px;justify-content:center;margin-top:8px}
.chip{display:inline-grid;place-items:center;height:28px;padding:0 10px;border-radius:999px;border:1px solid var(--border);background:#0e1526;color:#e7eeff;text-decoration:none}
.chip.ghost{background:transparent}
.chip.danger{background:#ff5a7a;border-color:#ff5a7a;color:#fff}

/* Chat */
.chat-wrap{display:grid;grid-template-rows:1fr auto;height:60vh;border-radius:16px;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.55)),url('https://images.unsplash.com/photo-1517602302552-471fe67acf66?q=80&w=1200&auto=format&fit=crop') center/cover no-repeat;border:1px solid var(--border)}
.msgs{overflow:auto;padding:12px;display:flex;flex-direction:column;gap:10px}
.msg{max-width:78%;padding:8px 12px;border-radius:12px;font-size:14px;line-height:1.4}
.them{align-self:flex-start;background:#0b1224;border:1px solid #19284a;color:#dfe9ff}
.me{align-self:flex-end;background:var(--gradient);color:#001015;font-weight:700}
.composer{display:grid;grid-template-columns:1fr auto;gap:8px;padding:8px;background:#0f1626cc;border-top:1px solid var(--border);border-radius:0 0 16px 16px}
.input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0a1326;color:var(--text)}

/* Mobile */
@media (max-width:992px){.sidebar{display:none}.topbar{left:0}.main{margin-left:0}}

/* === Visibility control for mobile vs desktop === */
.mobile-only { display: none; }

/* Desktop >= 993px: hide mobile bars; compact desktop padding */
@media (min-width: 993px) {
  .mobile-only { display: none !important; }
  .topbar { display: none !important; }
  .bottom-nav { display: none !important; }
  /* Desktop content spacing (no mobile bars reserved) */
  .main {
    margin-left: 78px !important;
    padding: 16px !important;
  }
}

/* Mobile <= 992px: show mobile bars and reserve space */
@media (max-width: 992px) {
  .mobile-only { display: block !important; }
  /* Desktop sidebar hidden in your base CSS; keep it that way */
  .main {
    margin-left: 0 !important;
    padding: calc(var(--topbar-h) + env(safe-area-inset-top, 8px)) 16px
             calc(var(--botnav-h) + env(safe-area-inset-bottom, 16px)) 16px !important;
  }
}

/* Topbar should anchor from left on mobile layout */
.topbar { left: 0 !important; }

/* === Visibility control for mobile vs desktop === */
.mobile-only { display: none; }

/* Desktop >= 993px: hide mobile bars; compact desktop padding */
@media (min-width: 993px) {
  .mobile-only { display: none !important; }
  .topbar { display: none !important; }
  .bottom-nav { display: none !important; }
  /* Desktop content spacing (no mobile bars reserved) */
  .main {
    margin-left: 78px !important;
    padding: 16px !important;
  }
}

/* Mobile <= 992px: show mobile bars and reserve space */
@media (max-width: 992px) {
  .mobile-only { display: block !important; }
  /* Desktop sidebar hidden in your base CSS; keep it that way */
  .main {
    margin-left: 0 !important;
    padding: calc(var(--topbar-h) + env(safe-area-inset-top, 8px)) 16px
             calc(var(--botnav-h) + env(safe-area-inset-bottom, 16px)) 16px !important;
  }
}

/* Topbar should anchor from left on mobile layout */
.topbar { left: 0 !important; }

/* === Force desktop/mobile split === */
.mobile-only { display: none; }

/* Desktop >= 993px: hide mobile bars; remove mobile padding */
@media (min-width: 993px) {
  .mobile-only { display: none !important; }
  .topbar { display: none !important; }
  .bottom-nav { display: none !important; }
  .main {
    margin-left: 78px !important; /* sidebar width */
    padding: 16px !important;      /* no top/bottom bar space */
  }
}

/* Mobile <= 992px: show mobile bars and reserve space */
@media (max-width: 992px) {
  .mobile-only { display: block !important; }
  .sidebar { display: none !important; }
  .main {
    margin-left: 0 !important;
    padding: calc(var(--topbar-h) + env(safe-area-inset-top, 8px)) 16px
             calc(var(--botnav-h) + env(safe-area-inset-bottom, 16px)) 16px !important;
  }
  /* Make sure topbar starts at left on mobile */
  .topbar { left: 0 !important; }
}

/* ===== HIDE LEGACY VERTICAL NAV (old mobile-nav / mnav-item) ===== */
.mobile-nav, .mnav-item {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  overflow: hidden !important;
  pointer-events: none !important;
}

/* ===== NEW HORIZONTAL BOTTOM BAR (MOBILE ONLY) ===== */
@media (max-width: 992px) {
  nav.bottom-nav {
    position: fixed !important;
    left: 0; right: 0; bottom: 0;
    width: 100% !important;
    height: calc(var(--botnav-h) + env(safe-area-inset-bottom, 16px)) !important;
    padding-bottom: env(safe-area-inset-bottom, 16px) !important;
    background: #0f1626cc;
    border-top: 1px solid var(--border);
    display: flex !important;                  /* horizontal */
    justify-content: space-around;
    align-items: center;
    z-index: 1000 !important;
    pointer-events: auto !important;
  }
  nav.bottom-nav .bn-item {
    flex: 1 1 0;                                /* equal width columns */
    text-align: center;
    display: inline-grid;                        /* icon over label */
    place-items: center;
    gap: 4px;
    padding: 8px 0;
    color: #cfe0ff;
    text-decoration: none;
    font-size: 12px;
  }
  nav.bottom-nav .bn-item.active {
    color: #08121e;
    background: linear-gradient(180deg, color-mix(in srgb, var(--accent-1) 16%, transparent), transparent);
    box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--accent-1) 35%, transparent);
  }
  nav.bottom-nav .bn-item.active svg {
    filter: drop-shadow(0 0 6px color-mix(in srgb, var(--accent-1) 60%, transparent));
  }
}

/* Desktop: no mobile bottom bar */
@media (min-width: 993px) {
  nav.bottom-nav { display: none !important; }
}

/* ===== TOP BAR ALIGNMENT (MOBILE) ===== */
@media (max-width: 992px) {
  .topbar {
    left: 0 !important;     /* no sidebar on mobile */
    grid-template-columns: 56px 1fr 56px !important;  /* left slot | brand | bell */
    align-items: center !important;
    z-index: 1000 !important;
  }
  .tb-slot {
    height: 40px; width: 40px; margin: 0 8px;
    display: inline-flex; align-items: center; justify-content: center;
    border-radius: 999px; border: 1px solid var(--border);
    background: #0e1526; color: #dbe7ff;
  }
  .tb-brand {
    justify-self: center !important;
    display: inline-flex !important; align-items: center !important; gap: 8px !important;
    pointer-events: none !important;
  }
}

/* ===== MOBILE PROFILE SIZE REDUCTION ===== */
@media (max-width: 992px) {
  .hero-brand { font-size: 28px !important; }
  .hero-sub   { font-size: 14px !important; }

  .profiles-grid-2x2 {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
  }
  .avatar-xxl {
    width: 120px !important;
    height: 120px !important;
    box-shadow: 0 0 10px color-mix(in srgb, var(--accent-1) 40%, transparent) !important;
  }
  .p-title { font-size: 14px !important; }
}

/* ===== Topbar exact alignment (avatar left, brand centered, bell right) ===== */
.topbar {
  position: fixed;
  top: 0; left: 78px; right: 0;                  /* desktop default; mobile fixes below */
  height: calc(var(--topbar-h) + env(safe-area-inset-top, 8px));
  padding-top: env(safe-area-inset-top, 8px);
  background: #0f1626cc; border-bottom: 1px solid var(--border);
  display: grid !important;
  grid-template-columns: 56px 1fr 56px !important; /* left slot | brand center | right slot */
  align-items: center !important;
  z-index: 1000 !important;
  gap: 0 !important;
}

/* Common slot style */
.tb-slot {
  height: 36px; width: 36px;                     /* slightly smaller circle */
  margin: 0 6px;
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: 999px; border: 1px solid var(--border);
  background: #0e1526; color: #dbe7ff;
}

/* Ensure left/right slots anchor to sides */
.tb-left  { justify-self: start !important; margin-left: 10px !important; }
.tb-right { justify-self: end   !important; margin-right: 10px !important; }

/* Brand must be truly centered regardless of slot widths */
.tb-brand {
  justify-self: center !important;
  display: inline-flex !important; align-items: center !important; gap: 6px !important;
  pointer-events: none !important;
}
.tb-brand img { width: 20px; height: 20px; border-radius: 4px; }
.tb-brand span {
  font-weight: 800; letter-spacing: .3px;
  background: var(--gradient); -webkit-background-clip: text; background-clip: text; color: transparent;
  line-height: 1;
}

/* Extra-tight phones: reduce sizes a bit more and hide logo mark if needed */
@media (max-width: 400px) {
  .tb-slot { height: 34px; width: 34px; margin: 0 5px; }
  .tb-brand img { display: none; }                     /* keep the VIBRIUM text only */
  .tb-brand span { font-size: 15px; }
}
@media (max-width: 360px) {
  .tb-slot { height: 32px; width: 32px; }
  .tb-brand span { font-size: 14px; }
}

/* On mobile the topbar must start from left:0 and reserve space above content */
@media (max-width: 992px) {
  .topbar { left: 0 !important; }
  .main {
    margin-left: 0 !important;
    padding-top: calc(var(--topbar-h) + env(safe-area-inset-top, 8px)) !important;
  }
}

/* Desktop hides the topbar (mobile-only) */
@media (min-width: 993px) {
  .topbar { display: none !important; }
}

/* ===== Mobile profile tiles: smaller and tighter ===== */
@media (max-width: 992px) {
  .profiles-grid-2x2 {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
  }
  .avatar-xxl {
    width: 118px !important;
    height: 118px !important;
    box-shadow: 0 0 10px color-mix(in srgb, var(--accent-1) 40%, transparent) !important;
  }
  .p-title { font-size: 14px !important; }
}

/* Ultra-small widths (old 5.8–6.1” phones) */
@media (max-width: 360px) {
  .avatar-xxl { width: 108px !important; height: 108px !important; }
  .p-title   { font-size: 13px !important; }
}

/* Bottom bar center item emphasis */
.bottom-nav .bn-item.center svg {
  transform: scale(1.12);
}
.bottom-nav .bn-item.center .mnav-label {
  font-weight: 800;
}

/* ============ Modern Active Style – Bottom Bar (mobile) ============ */
@keyframes vbr-underline-in {
  0%   { transform: translateY(0) scaleX(0.4); opacity: .2; }
  100% { transform: translateY(0) scaleX(1);   opacity: 1; }
}
@keyframes vbr-glow {
  0%   { filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }
  100% { filter: drop-shadow(0 0 6px color-mix(in srgb, var(--accent-1) 60%, transparent)); }
}

/* base state refinements */
.bottom-nav .bn-item {
  position: relative;
  transform: translateY(0);
  transition: transform .16s ease, color .18s ease, background .18s ease;
}
.bottom-nav .bn-item:active { transform: translateY(1px); }

/* new active look: animated underline + slight lift and crisper color */
.bottom-nav .bn-item.active {
  color: #eaf3ff;
  background: none; /* remove old pill bg */
  box-shadow: none; /* remove old inset */
}
.bottom-nav .bn-item.active svg {
  transform: translateY(-2px) scale(1.06);
  animation: vbr-glow .25s ease forwards;
}

/* animated gradient underline */
.bottom-nav .bn-item.active::after {
  content: "";
  position: absolute;
  bottom: 6px; left: 50%;
  width: 36px; height: 4px;
  transform: translateX(-50%);
  border-radius: 999px;
  background: var(--gradient);
  box-shadow: 0 2px 12px color-mix(in srgb, var(--accent-1) 40%, transparent);
  animation: vbr-underline-in .28s ease-out both;
}

/* keep center (Search) slightly larger as main action */
.bottom-nav .bn-item.center svg { transform: translateY(-1px) scale(1.12); }
.bottom-nav .bn-item.center .mnav-label { font-weight: 800; }

/* ============ Modern Active Style – Sidebar (desktop) ============ */
/* Remove old left gradient bar */
.sidebar .sb-item.active::before { display: none !important; }

/* Soft glass capsule and glow halo around icon */
@keyframes vbr-pop {
  0%   { transform: scale(.96); opacity: .9; }
  100% { transform: scale(1);    opacity: 1; }
}
.sidebar .sb-item {
  position: relative;
  transition: transform .16s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
}
.sidebar .sb-item:hover { transform: translateY(-2px); }

/* new active tile capsule */
.sidebar .sb-item.active {
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}
.sidebar .sb-item.active::after {
  content: "";
  position: absolute;
  inset: 4px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  box-shadow:
    0 8px 18px rgba(0,0,0,.45),
    0 0 18px color-mix(in srgb, var(--accent-1) 35%, transparent),
    0 0 0 1px color-mix(in srgb, var(--accent-1) 40%, transparent);
  animation: vbr-pop .18s ease-out;
  pointer-events: none;
}

/* icon halo glow */
.sidebar .sb-item.active .lucide,
.sidebar .sb-item.active svg {
  position: relative;
  z-index: 1;
  transform: scale(1.12);
  color: #eaf3ff;    /* brighter icon */
  transition: transform .18s ease, color .18s ease;
}
.sidebar .sb-item.active .lucide::after,
.sidebar .sb-item.active svg::after {
  content: "";
  position: absolute;
  left: 50%; top: 50%;
  width: 36px; height: 36px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: radial-gradient(45% 45% at 50% 50%, color-mix(in srgb, var(--accent-1) 40%, transparent) 0%, transparent 60%);
  filter: blur(7px);
  z-index: -1;
  pointer-events: none;
}

/* Improve non-active hover with subtle neon glow */
.sidebar .sb-item:hover .lucide,
.sidebar .sb-item:hover svg {
  transform: scale(1.06);
  color: #dfe9ff;
}
